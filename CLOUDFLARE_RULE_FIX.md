# üîß –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï CLOUDFLARE TRANSFORM RULE - –ù–ê–ô–î–ï–ù–ê –ü–†–û–ë–õ–ï–ú–ê!

## ‚ùå –ü–†–û–ë–õ–ï–ú–ê –û–ë–ù–ê–†–£–ñ–ï–ù–ê –í –í–ê–®–ï–ú CLOUDFLARE –ü–†–ê–í–ò–õ–ï!

–ü–æ —Å–∫—Ä–∏–Ω—à–æ—Ç–∞–º –≤–∏–¥–Ω–æ, —á—Ç–æ –≤–∞—à Cloudflare Transform Rule –Ω–∞—Å—Ç—Ä–æ–µ–Ω –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ:

**–¢–µ–∫—É—â–µ–µ –ù–ï–ü–†–ê–í–ò–õ–¨–ù–û–ï –ø—Ä–∞–≤–∏–ª–æ:**
```
concat("https://mebel-be602.firebasestorage.app/v0/b/mebel-be602/o/", http.request.uri.path, "?alt=media")
```

**–ü–†–û–ë–õ–ï–ú–ê –ù–ê–ô–î–ï–ù–ê:** –ü—Ä–æ–±–ª–µ–º–∞ –±—ã–ª–∞ –≤ URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–∏–∏ —Å–ª—ç—à–µ–π! Firebase API —Ç—Ä–µ–±—É–µ—Ç —á—Ç–æ–±—ã —Å–ª—ç—à–∏ –≤ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É –±—ã–ª–∏ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω—ã –∫–∞–∫ `%2F`.

## ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:

**–ö–ª—é—á–µ–≤–æ–µ –æ—Ç–ª–∏—á–∏–µ:** `replace(..., "/", "%2F")` - –∑–∞–º–µ–Ω—è–µ—Ç —Å–ª—ç—à–∏ –Ω–∞ URL-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ!

### –ü–†–ê–í–ò–õ–¨–ù–´–ô Transform Rule:
```
concat("https://firebasestorage.googleapis.com/v0/b/mebel-be602.firebasestorage.app/o/", replace(url_decode(http.request.uri.path), "/", "%2F"), "?alt=media")
```

## üõ†Ô∏è –ü–û–®–ê–ì–û–í–û–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–ï:

1. **–ó–∞–π–¥–∏—Ç–µ –≤ Cloudflare Dashboard** ‚Üí –¥–æ–º–µ–Ω `maestromebel.by`
2. **Rules ‚Üí Transform Rules**
3. **–ù–∞–π–¥–∏—Ç–µ –ø—Ä–∞–≤–∏–ª–æ "Firebase Storage CDN"** ‚Üí **Edit**
4. **–í –ø–æ–ª–µ "Rewrite to..." –ó–ê–ú–ï–ù–ò–¢–ï –Ω–∞:**
   ```
   concat("https://firebasestorage.googleapis.com/v0/b/mebel-be602.firebasestorage.app/o/", replace(url_decode(http.request.uri.path), "/", "%2F"), "?alt=media")
   ```
5. **Save**

## ‚ú® –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

1. **–û—á–∏—Å—Ç–∏—Ç–µ –∫–µ—à Cloudflare** (Caching ‚Üí Purge Everything)
2. **–ü—Ä–æ–≤–µ—Ä—å—Ç–µ —Ä–∞–±–æ—Ç—É** –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ `/test-images`
3. **–ò–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –¥–æ–ª–∂–Ω—ã –Ω–∞—á–∞—Ç—å –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è!**

## üîç –î–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏:

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –æ—Ç–∫—Ä—ã—Ç—å –≤ –±—Ä–∞—É–∑–µ—Ä–µ:
- `https://cdn.maestromebel.by/products/1750273380931_7.png?alt=media`

–ï—Å–ª–∏ –≤—Å—ë –Ω–∞—Å—Ç—Ä–æ–µ–Ω–æ –ø—Ä–∞–≤–∏–ª—å–Ω–æ - –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –¥–æ–ª–∂–Ω–æ –∑–∞–≥—Ä—É–∑–∏—Ç—å—Å—è.
